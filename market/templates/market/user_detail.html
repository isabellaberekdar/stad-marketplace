{% extends "base_generic.html" %}

{% block content %}

    <h1>Username: {{ user.username }}</h1>

    <p><strong>Name:</strong> {{ user.first_name }} {{ user.last_name }}</p>
    
    <p><strong>Date of birth:</strong> {{ user.date_of_birth }}</p>
    <p><strong>E-mail:</strong> {{ user.email }}</p>
    <p><strong>Phone:</strong> {{ user.phone }}</p>
    <p><strong>Address:</strong> {{ user.address }}</p>
    <p><strong>State:</strong> {{ user.state }}</p>
    <p><strong>City:</strong> {{ user.city }}</p>
    <p><strong>Zip Code:</strong> {{ user.zip_code }}</p>



    <div style="margin-left:20px;margin-top:20px">
        <h4>Products for sale</h4>

        {% for product in user.product_set.all %}
            <hr>
            <p><a href="{{ product.get_absolute_url }}">{{ product.name }}</a> (Category: {{product.category}}) ${{ product.price }}</p>
            <p> {{ product.description }} </p>
        {% endfor %}
    </div>
    
    <div style="margin-left:20px;margin-top:20px">
        <h4>Order history</h4>

        {% for order in user.order_set.all %}
            <hr>
            <p> Order ID: <a href="{{ order.get_absolute_url }}"> {{ order.id }} </a></p>
            {% for orderedproduct in order.orderedproduct_set.all %}
                <p><a href="{{ orderedproduct.product.get_absolute_url }}"> {{ orderedproduct.product.name }} </a>| Quantity: {{ orderedproduct.quantity }} ${{ orderedproduct.product.price }} each</p>
            {% endfor %}

        {% endfor %}
    </div>
    
{% endblock %}





